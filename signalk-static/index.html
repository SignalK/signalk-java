<!DOCTYPE html>
<html lang="en">
	<head>
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />
		<meta charset="utf-8">
		<meta http-equiv="cleartype" content="on">
		<meta name="MobileOptimized" content="320">
		<meta name="HandheldFriendly" content="True">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
		<link rel="stylesheet" href="css/bootstrap.css" >
		<link rel="stylesheet" href="css/bootstrap-theme.css" >
		<link rel="stylesheet" data-aload="styles/fonts.css">
		<script type="text/javascript" src="js/jquery.min.js"></script>
		<script type="text/javascript" src="js/bootstrap.min.js"></script>
		<style>
			body {
				padding-top: 5px;
				padding-bottom: 5px;
				// background-color: #eee;
				width: 100%;
				height: 100%;
			}
			.btn-primary a{
				color: aliceblue;
			}
			.btn {
				width: 90%;
			}
			.row {
				padding-top: 5px;
				padding-bottom: 5px;
				border: 1px;
				border-bottom:  1px solid #EEE;
			}

		</style>
		<title>Freeboard K - Home</title>
	</head>

	<div class="container">
		<div class="page-header">
			<h1>Signal K - Start menu</h1>
		</div>
		<ul class="nav nav-tabs">
		  <li class="active"><a data-toggle="tab" href="#home">Home</a></li>
		  <li><a data-toggle="tab" href="#server">Server</a></li>
		</ul>
		<div class="tab-content">
			
			<div id="home" class="tab-pane fade in active">
				
					<div class="row">
						<div class="col-md-4">
							<a class="btn btn-primary btn-lg" role="button" href="./freeboard-sk/">Freeboard SK</a>
						</div>
						<div class="col-md-8">
							<p>The Freeboard Chartplotter, ported to Signal K <br/><a href="https://github.com/SignalK/freeboard-sk">https://github.com/SignalK/freeboard-sk</a></p>
						</div>
					</div>
					<div class="row">
						<div class="col-md-4">
							<a class="btn btn-primary btn-lg" role="button" href="./instrumentpanel/">Instrument Panel</a>			
						</div>
						<div class="col-md-8">
							<p>The Signal K instrumentpanel project <br/> <a href="https://github.com/SignalK/instrumentpanel">https://github.com/SignalK/instrumentpanel</a></p>
						</div>
						
					</div>
					<div class="row">
						<div class="col-md-4">
							<a class="btn btn-primary btn-lg" role="button" href="./sailgauge">Sailgauge</a>			
						</div>
						<div class="col-md-8">
							<p>The Signal K Sailgauge project <br/><a href="https://github.com/SignalK/sailgauge">https://github.com/SignalK/sailgauge</a></p>
						</div>
					</div>
					<div class="row">
						<p></p>
					</div>
					<div class="row">
						<div class="col-md-4">
							<a id="logsBtn" class="btn btn-default btn-lg" role="button" href="/config/upload.html">Upload Charts</a>
						</div>
						<div class="col-md-8">
							<p>Upload charts</p>
						</div>
					</div>
					
					<div class="row">
						<div class="col-md-4">
							<a class="btn btn-default btn-lg" role="button" href="/signalk/v1/api/vessels/*">Signal K REST API</a>
						</div>
						<div class="col-md-8">
							<p>The REST API lets you make calls with a web browser to get data from the Signal K server. By default it will open at <i>http://localhost:8080/signalk/v1/api/vessels/*</i></p>
							<p>You can navigate through the tree by appending directories as you would for files, 
								eg <a href="/signalk/v1/api/vessels/self/navigation" >http://..../signalk/v1/api/vessels/self/navigation</a> or <a href="/signalk/v1/api/vessels/self/environment" >http://.../signalk/v1/api/vessels/self/environment</a></p>
							<p>The content mime type is application/json, your browser may not display it directly. 
								On firefox just install <a href="https://addons.mozilla.org/en-us/firefox/addon/jsonovich/?src=search">https://addons.mozilla.org/en-us/firefox/addon/jsonovich/?src=search</a></p>
						</div>
					</div>
				</div>
			<div id="server" class="tab-pane fade in ">
				
					<div class="row">
						<div id="addresses" class="col-md-4">
						</div>
						<div class="col-md-8">
							<h4>Server Installation</h4>
							<div class="col-md-9">
							<p>The three blue buttons launch applications that must be separately installed to your signalk server.  
								Use the relevant <b>Install</b> or <b>Upgrade</b> buttons to do this.</p>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-4">
							<label class="btn  btn-lg">Freeboard SK</label>
						</div>
						<div class="col-md-8">
							<div class="col-md-3">
								<a class="btn  btn-default" role="button" href="/signalk/v1/install/freeboard-sk">Install</a>
							</div>
							<div class="col-md-3">
								<a class="btn b btn-default" role="button" href="/signalk/v1/upgrade/freeboard-sk">Upgrade</a>
							</div>
							<p>The Freeboard Chartplotter, ported to Signal K <br/><a href="https://github.com/SignalK/freeboard-sk">https://github.com/SignalK/freeboard-sk</a></p>
						</div>
					</div>
					<div class="row">
						<div class="col-md-4">
							<label class="btn  btn-lg">Instrument Panel</label>			
						</div>
						<div class="col-md-8">
							<div class="col-md-3">
								<a class="btn  btn-default" role="button" href="/signalk/v1/install/instrumentpanel">Install</a>
							</div>
							<div class="col-md-3">
								<a class="btn b btn-default" role="button" href="/signalk/v1/upgrade/instrumentpanel">Upgrade</a>
							</div>
							<p>The Signal K instrumentpanel project <br/> <a href="https://github.com/SignalK/instrumentpanel">https://github.com/SignalK/instrumentpanel</a></p>
						</div>
						
					</div>
					<div class="row">
						<div class="col-md-4">
							<label class="btn  btn-lg">Sailgauge</label>			
						</div>
						<div class="col-md-8">
							<div class="col-md-3">
								<a class="btn  btn-default" role="button" href="/signalk/v1/install/sailgauge">Install</a>
							</div>
							<div class="col-md-3">
								<a class="btn b btn-default" role="button" href="/signalk/v1/upgrade/sailgauge">Upgrade</a>
							</div>
							<p>The Signal K Sailgauge project <br/><a href="https://github.com/SignalK/sailgauge">https://github.com/SignalK/sailgauge</a></p>
						</div>
					</div>
					<div class="row">
						<div class="col-md-4">
							<a id="cfgBtn" class="btn btn-default btn-lg" role="button" href="/config/config.html">Configuration</a>
						</div>
						<div class="col-md-8">
							<p>Manage the configuration of the server</p>
						</div>
					</div>
					<div class="row">
						<div class="col-md-4">
							<a id="restartBtn" class="btn btn-default btn-lg" role="button" href="#">Restart Server</a>
						</div>
						<div class="col-md-8">
							<p>Restart the server</p>
						</div>
					</div>
					<div class="row">
						<div class="col-md-4">
							<a id="logsBtn" class="btn btn-default btn-lg" role="button" href="/config/logList.html">Logs</a>
						</div>
						<div class="col-md-8">
							<p>View the log files, useful for support</p>
						</div>
					</div>
					<div class="row">
						<div class="col-md-4">
							<a id="logCfgBtn" class="btn btn-default btn-lg" role="button" href="/config/log4j-config.html">Log Management</a>
						</div>
						<div class="col-md-8">
							<p>Manage the log4j logging, if you dont know what that is, dont go here</p>
						</div>
					</div>
					<div class="row">
						<div class="col-md-4">
							<a id="hawtioBtn" class="btn btn-default btn-lg" role="button" href="#">Hawtio Management</a>
						</div>
						<div class="col-md-8">
							<p>This launches the Hawtio management service if its turned on. Its JMX based, very technical, looks great and will be of little use unless you know java pretty well. 
							If its turned off (default) you can access it remotely from other Hawtio management service servers. Very useful to watch/debug/trace your RPi from your laptop</p>
						</div>
					</div>
			</div>
		</div>
	</div>
	<script>
		$(document).ready(function(){
			var url = 'http://'+window.location.hostname +':8000/hawtio';
			jQuery('#hawtioBtn').attr('href', url );
		
			$.ajax({
				url : "/signalk",
				dataType: "text",
				success : function (data) {
					var jsonData = JSON.parse(data);
					$("#addresses").html('<pre>'+JSON.stringify(jsonData, null, 2)+'</pre>');
				}
			});
			$("#restartBtn").on('click', function() {
				$.ajax({
					url : "/signalk/v1/restart",
					dataType: "text",
					success : function (data) {
						alert(data);
					},
					error : function (data) {
						alert("Error:"+JSON.stringify(data));
					}
				});
			});
	
		});
	</script>
	</body>
</html>